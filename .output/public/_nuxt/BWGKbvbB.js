import{_ as V}from"./BpbpkqIS.js";import{_ as C}from"./-BKd_uIC.js";import{k as N,J as B,K as M,l as T,r,h as k,u as q,I as D,w as p,L as E,o as c,a as t,d as n,b as v,t as a,M as A,z as g,N as I,B as z,s as L,E as H,T as J,c as b,y as K,q as d}from"./DciJOS0B.js";import{_ as P}from"./DlAUqK2U.js";import"./DgM-zN9R.js";const R={class:"auth-link-text"},j={class:"auth-label"},F={class:"auth-label"},G={class:"password-input-wrapper"},O=["type"],Q={class:"auth-checkbox-label"},W={key:0,class:"auth-error"},X=["disabled"],Y={key:0,class:"spinner"},Z={key:1},tt=N({__name:"signup",setup(et){const l=B(),w=M(),{t:y}=T(),h=r(!1),m=r("+998"),u=r(""),i=r(!1),_=k(()=>m.value.replace(/[+()-]/g,"")),$=k(()=>h.value&&_.value.length===12&&u.value.length>=6),x=async()=>{try{await l.signUp(_.value,u.value),await w.push(`/activate/${_.value}`)}catch(e){console.error("[Signup] Sign up failed:",e)}};return q({title:y("auth.signup")}),(e,s)=>{const f=V,U=C,S=E("maska");return c(),D(U,{title:e.$t("auth.signup")},{default:p(()=>[t("div",R,[n(a(e.$t("auth.hasAccount"))+" ",1),v(f,{class:"auth-link",to:"/signin"},{default:p(()=>[n(a(e.$t("auth.login")),1)]),_:1}),n(" "+a(e.$t("auth.toStart")),1)]),t("form",{class:"auth-form",onSubmit:A(x,["prevent"])},[t("label",j,[n(a(e.$t("auth.phoneNumber"))+" * ",1),g(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>m.value=o),class:"auth-input",type:"tel",required:""},null,512),[[I,m.value],[S,"+998(##)###-##-##"]])]),t("label",F,[n(a(e.$t("auth.password"))+" * ",1),t("div",G,[g(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>u.value=o),type:i.value?"text":"password",class:"auth-input",required:"",minlength:"6"},null,8,O),[[z,u.value]]),t("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=o=>i.value=!i.value)},[t("i",{class:L(["bx",i.value?"bx-hide":"bx-show"])},null,2)])])]),t("label",Q,[g(t("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>h.value=o),type:"checkbox",class:"auth-checkbox",required:""},null,512),[[H,h.value]]),t("span",null,[v(f,{class:"auth-link",to:"/terms"},{default:p(()=>[n(a(e.$t("auth.agreeTerms")),1)]),_:1})])]),v(J,{name:"fade"},{default:p(()=>[d(l).signUpError?(c(),b("div",W,a(d(l).signUpError),1)):K("",!0)]),_:1}),t("button",{type:"submit",class:"auth-button",disabled:d(l).signingUp||!$.value},[d(l).signingUp?(c(),b("span",Y)):(c(),b("span",Z,a(e.$t("auth.signup")),1))],8,X)],32)]),_:1},8,["title"])}}}),ut=P(tt,[["__scopeId","data-v-6781b20a"]]);export{ut as default};

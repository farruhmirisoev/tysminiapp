import{_ as $}from"./Ywtuaclr.js";import{_ as I}from"./Dj_GmKHv.js";import{k as S,L as N,M as x,l as C,r as _,u as V,E as B,w as l,N as D,o as u,a as t,d as o,b as h,t as e,O as E,B as g,P as M,G as T,s as q,T as A,c as m,z as P,q as d}from"./Cw3nC2Ka.js";import{_ as z}from"./DlAUqK2U.js";import"./DgM-zN9R.js";const L={class:"auth-link-text"},U={class:"auth-label"},G={class:"auth-label"},H={class:"password-input-wrapper"},O=["type"],R={key:0,class:"auth-error"},j={class:"auth-link-wrapper"},F=["disabled"],J={key:0,class:"spinner"},K={key:1},Q=S({__name:"signin",setup(W){const n=N(),f=x(),{t:w}=C(),c=_("+998"),p=_(""),i=_(!1),b=async()=>{try{await n.signIn(c.value.replace(/[+()-]/g,""),p.value),await f.push("/")}catch(s){console.error("[Signin] Sign in failed:",s)}};return V({title:w("auth.signin")}),(s,a)=>{const v=$,k=I,y=D("maska");return u(),B(k,{title:s.$t("auth.signin")},{default:l(()=>[t("div",L,[o(e(s.$t("auth.noAccount"))+" ",1),h(v,{class:"auth-link",to:"/signup"},{default:l(()=>[o(e(s.$t("auth.register")),1)]),_:1}),o(" "+e(s.$t("auth.toStart")),1)]),t("form",{class:"auth-form",onSubmit:E(b,["prevent"])},[t("label",U,[o(e(s.$t("auth.phoneNumber"))+" ",1),g(t("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>c.value=r),class:"auth-input",type:"tel",required:""},null,512),[[M,c.value],[y,"+998(##)###-##-##"]])]),t("label",G,[o(e(s.$t("auth.password"))+" ",1),t("div",H,[g(t("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>p.value=r),type:i.value?"text":"password",class:"auth-input",required:""},null,8,O),[[T,p.value]]),t("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=r=>i.value=!i.value)},[t("i",{class:q(["bx",i.value?"bx-hide":"bx-show"])},null,2)])])]),h(A,{name:"fade"},{default:l(()=>[d(n).signInError?(u(),m("div",R,e(d(n).signInError),1)):P("",!0)]),_:1}),t("div",j,[h(v,{class:"auth-link",to:"/password-recover"},{default:l(()=>[o(e(s.$t("auth.forgotPassword")),1)]),_:1})]),t("button",{type:"submit",class:"auth-button",disabled:d(n).signingIn},[d(n).signingIn?(u(),m("span",J)):(u(),m("span",K,e(s.$t("auth.signIn")),1))],8,F)],32)]),_:1},8,["title"])}}}),et=z(Q,[["__scopeId","data-v-6552d6c5"]]);export{et as default};

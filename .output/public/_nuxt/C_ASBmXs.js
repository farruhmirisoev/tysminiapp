import{_ as $}from"./DnaVkNmh.js";import{_ as I}from"./D4gt8RHQ.js";import{k as S,K as N,L as x,l as C,r as _,u as V,J as D,w as l,M as A,o as u,a as t,d as o,b as h,t as e,N as B,A as g,O as M,D as T,s as q,T as E,c as m,z,q as d}from"./Bgki6tB3.js";import{_ as L}from"./DlAUqK2U.js";import"./DgM-zN9R.js";const P={class:"auth-link-text"},U={class:"auth-label"},H={class:"auth-label"},J={class:"password-input-wrapper"},K=["type"],O={key:0,class:"auth-error"},R={class:"auth-link-wrapper"},j=["disabled"],F={key:0,class:"spinner"},G={key:1},Q=S({__name:"signin",setup(W){const n=N(),f=x(),{t:w}=C(),c=_("+998"),p=_(""),i=_(!1),b=async()=>{try{await n.signIn(c.value.replace(/[+()-]/g,""),p.value),await f.push("/")}catch(s){console.error("[Signin] Sign in failed:",s)}};return V({title:w("auth.signin")}),(s,a)=>{const v=$,k=I,y=A("maska");return u(),D(k,{title:s.$t("auth.signin")},{default:l(()=>[t("div",P,[o(e(s.$t("auth.noAccount"))+" ",1),h(v,{class:"auth-link",to:"/signup"},{default:l(()=>[o(e(s.$t("auth.register")),1)]),_:1}),o(" "+e(s.$t("auth.toStart")),1)]),t("form",{class:"auth-form",onSubmit:B(b,["prevent"])},[t("label",U,[o(e(s.$t("auth.phoneNumber"))+" ",1),g(t("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>c.value=r),class:"auth-input",type:"tel",required:""},null,512),[[M,c.value],[y,"+998(##)###-##-##"]])]),t("label",H,[o(e(s.$t("auth.password"))+" ",1),t("div",J,[g(t("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>p.value=r),type:i.value?"text":"password",class:"auth-input",required:""},null,8,K),[[T,p.value]]),t("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=r=>i.value=!i.value)},[t("i",{class:q(["bx",i.value?"bx-hide":"bx-show"])},null,2)])])]),h(E,{name:"fade"},{default:l(()=>[d(n).signInError?(u(),m("div",O,e(d(n).signInError),1)):z("",!0)]),_:1}),t("div",R,[h(v,{class:"auth-link",to:"/password-recover"},{default:l(()=>[o(e(s.$t("auth.forgotPassword")),1)]),_:1})]),t("button",{type:"submit",class:"auth-button",disabled:d(n).signingIn},[d(n).signingIn?(u(),m("span",F)):(u(),m("span",G,e(s.$t("auth.signIn")),1))],8,j)],32)]),_:1},8,["title"])}}}),et=L(Q,[["__scopeId","data-v-6552d6c5"]]);export{et as default};
